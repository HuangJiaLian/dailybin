#!/usr/bin/env python

import sys 

if len(sys.argv) < 2:
    print("Ooops. Usage:" + sys.argv[0] + ' xyzFile')
    exit()

f1 = open(sys.argv[1],'r')
f2 = open(sys.argv[1].split('.xyz')[0] + '_OH.xyz', 'w')
line = f1.readline()
num_atom = line
f2.write(line)

while line:
    line = f1.readline()
    if 'Atoms' in line:
        f2.write(line)
    elif num_atom in line:
        f2.write(line)
    else:
        print(line)
        try:
            frist_char = line[0]
            if frist_char == '1':
                new_line = 'O' + line[1:]
            elif frist_char == '2':
                new_line = 'H' + line[1:]
            f2.write(new_line)
        except:
            pass

f1.close()
f2.close()